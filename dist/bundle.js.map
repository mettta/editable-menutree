{"version":3,"sources":["webpack:///webpack/bootstrap c4aba3377188fc334295","webpack:///./node_modules/pug-runtime/index.js","webpack:///./src/main.js","webpack:///./src/components/app/app.js","webpack:///./src/components/tree/tree.js","webpack:///./src/components/menutree/menutree.js","webpack:///./src/components/menutree/menutree.css","webpack:///./src/components/menutree/menutree.pug","webpack:///fs (ignored)","webpack:///./src/components/additem/additem.js","webpack:///./src/components/additem/additem.css","webpack:///./src/components/additem/additem.pug","webpack:///./src/main.css"],"names":["el","document","createElement","classList","add","body","append","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","initializeApp","TESTDATA","database","ref","on","snapshot","console","log","val","APP_ENDPOINT","App","tree","menutree","onItemEvent","element","form","update","onSendData","address","addElement","render","fetchData","fetch","then","res","json","data","method","JSON","stringify","headers","Headers","catch","error","response","Tree","_adaptData","currAddress","forEach","obj","idx","concat","children","length","undefined","getParentNode","getNodeIdx","parentNode","i","getNode","name","push","getChildren","parent","state","arr","splice","Menutree","_tree","_onItemEvent","_blockName","_initEvents","innerHTML","blockName","getAdaptedData","_addElementToTree","removeNode","_getElementAddress","elemIdx","dataset","split","addNode","toggle","node","addEventListener","event","target","contains","_toggleOpenStatus","removeElement","title","querySelector","textContent","Additem","_onSendData","_targetTitle","_targetAddress","targetTitle","_setTarget","reset","newEl","querySelectorAll","value","_sendData"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iDAAiD,aAAa;AAC9D;AACA,iDAAiD,aAAa;AAC9D;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iDAAiD;AAC5D,WAAW,gBAAgB;AAC3B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c4aba3377188fc334295","'use strict';\n\nvar pug_has_own_property = Object.prototype.hasOwnProperty;\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = pug_merge;\nfunction pug_merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = pug_merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n\n  for (var key in b) {\n    if (key === 'class') {\n      var valA = a[key] || [];\n      a[key] = (Array.isArray(valA) ? valA : [valA]).concat(b[key] || []);\n    } else if (key === 'style') {\n      var valA = pug_style(a[key]);\n      valA = valA && valA[valA.length - 1] !== ';' ? valA + ';' : valA;\n      var valB = pug_style(b[key]);\n      valB = valB && valB[valB.length - 1] !== ';' ? valB + ';' : valB;\n      a[key] = valA + valB;\n    } else {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Process array, object, or string as a string of classes delimited by a space.\n *\n * If `val` is an array, all members of it and its subarrays are counted as\n * classes. If `escaping` is an array, then whether or not the item in `val` is\n * escaped depends on the corresponding item in `escaping`. If `escaping` is\n * not an array, no escaping is done.\n *\n * If `val` is an object, all the keys whose value is truthy are counted as\n * classes. No escaping is done.\n *\n * If `val` is a string, it is counted as a class. No escaping is done.\n *\n * @param {(Array.<string>|Object.<string, boolean>|string)} val\n * @param {?Array.<string>} escaping\n * @return {String}\n */\nexports.classes = pug_classes;\nfunction pug_classes_array(val, escaping) {\n  var classString = '', className, padding = '', escapeEnabled = Array.isArray(escaping);\n  for (var i = 0; i < val.length; i++) {\n    className = pug_classes(val[i]);\n    if (!className) continue;\n    escapeEnabled && escaping[i] && (className = pug_escape(className));\n    classString = classString + padding + className;\n    padding = ' ';\n  }\n  return classString;\n}\nfunction pug_classes_object(val) {\n  var classString = '', padding = '';\n  for (var key in val) {\n    if (key && val[key] && pug_has_own_property.call(val, key)) {\n      classString = classString + padding + key;\n      padding = ' ';\n    }\n  }\n  return classString;\n}\nfunction pug_classes(val, escaping) {\n  if (Array.isArray(val)) {\n    return pug_classes_array(val, escaping);\n  } else if (val && typeof val === 'object') {\n    return pug_classes_object(val);\n  } else {\n    return val || '';\n  }\n}\n\n/**\n * Convert object or string to a string of CSS styles delimited by a semicolon.\n *\n * @param {(Object.<string, string>|string)} val\n * @return {String}\n */\n\nexports.style = pug_style;\nfunction pug_style(val) {\n  if (!val) return '';\n  if (typeof val === 'object') {\n    var out = '';\n    for (var style in val) {\n      /* istanbul ignore else */\n      if (pug_has_own_property.call(val, style)) {\n        out = out + style + ':' + val[style] + ';';\n      }\n    }\n    return out;\n  } else {\n    return val + '';\n  }\n};\n\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = pug_attr;\nfunction pug_attr(key, val, escaped, terse) {\n  if (val === false || val == null || !val && (key === 'class' || key === 'style')) {\n    return '';\n  }\n  if (val === true) {\n    return ' ' + (terse ? key : key + '=\"' + key + '\"');\n  }\n  if (typeof val.toJSON === 'function') {\n    val = val.toJSON();\n  }\n  if (typeof val !== 'string') {\n    val = JSON.stringify(val);\n    if (!escaped && val.indexOf('\"') !== -1) {\n      return ' ' + key + '=\\'' + val.replace(/'/g, '&#39;') + '\\'';\n    }\n  }\n  if (escaped) val = pug_escape(val);\n  return ' ' + key + '=\"' + val + '\"';\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} terse whether to use HTML5 terse boolean attributes\n * @return {String}\n */\nexports.attrs = pug_attrs;\nfunction pug_attrs(obj, terse){\n  var attrs = '';\n\n  for (var key in obj) {\n    if (pug_has_own_property.call(obj, key)) {\n      var val = obj[key];\n\n      if ('class' === key) {\n        val = pug_classes(val);\n        attrs = pug_attr(key, val, false, terse) + attrs;\n        continue;\n      }\n      if ('style' === key) {\n        val = pug_style(val);\n      }\n      attrs += pug_attr(key, val, false, terse);\n    }\n  }\n\n  return attrs;\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar pug_match_html = /[\"&<>]/;\nexports.escape = pug_escape;\nfunction pug_escape(_html){\n  var html = '' + _html;\n  var regexResult = pug_match_html.exec(html);\n  if (!regexResult) return _html;\n\n  var result = '';\n  var i, lastIndex, escape;\n  for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {\n    switch (html.charCodeAt(i)) {\n      case 34: escape = '&quot;'; break;\n      case 38: escape = '&amp;'; break;\n      case 60: escape = '&lt;'; break;\n      case 62: escape = '&gt;'; break;\n      default: continue;\n    }\n    if (lastIndex !== i) result += html.substring(lastIndex, i);\n    lastIndex = i + 1;\n    result += escape;\n  }\n  if (lastIndex !== i) return result + html.substring(lastIndex, i);\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the pug in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @param {String} str original source\n * @api private\n */\n\nexports.rethrow = pug_rethrow;\nfunction pug_rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    pug_rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Pug') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/pug-runtime/index.js\n// module id = 0\n// module chunks = 0","import {App} from './components/app/app.js';\n\nimport './main.css';\n\nconst el = document.createElement('div');\nel.classList.add('js-app');\ndocument.body.append(el);\n\nnew App({\n\tel: el\n});\n\n// Initialize Firebase\nvar config = {\n\tapiKey: \"AIzaSyA6MrUgAlk-MI9ALoS0wDrBGihokS1J-EQ\",\n\tauthDomain: \"editable-tree.firebaseapp.com\",\n\tdatabaseURL: \"https://editable-tree.firebaseio.com\",\n\tprojectId: \"editable-tree\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"1087544042407\"\n\t};\nfirebase.initializeApp(config);\n\nlet TESTDATA = firebase.database().ref();\n\nTESTDATA.on(\"value\", (snapshot) => {\n\tconsole.log(snapshot.val());\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import {Tree} from './../tree/tree.js';\nimport {Menutree} from './../menutree/menutree.js';\nimport {Additem} from './../additem/additem.js';\n\nexport const APP_ENDPOINT = '_data/data.json';\n\nexport class App {\n\tconstructor({el}) {\n\t\tthis.el = el;\n\n\t\tthis.tree = new Tree();\n\n\t\tthis.menutree = new Menutree({\n\t\t\tel: document.createElement('div'),\n\t\t\ttree: this.tree, \n\t\t\tonItemEvent: (element) => {\n\t\t\t\tthis.form.update(element);\n\t\t\t}\n\t\t});\n\n\t\tthis.form = new Additem({\n\t\t\tel: document.createElement('div'),\n\t\t\tonSendData: (element, address) => {\n\t\t\t\tthis.menutree.addElement(element, address);\n\t\t\t\t// TODO setData()\n\t\t\t\t// this.postData(this.tree.setData());\n\t\t\t},\n\t\t});\n\n\t\tthis.el.append(this.menutree.el, this.form.el);\n\t\tthis.menutree.render();\n\t\tthis.form.render();\n\n\t\tthis.fetchData();\n\t}\n\n\tfetchData() {\n\t\tfetch(APP_ENDPOINT).\n\t\tthen((res) => res.json()).\n\t\tthen(({tree}) => {\n\t\t\tthis.tree.data = tree;\n\t\t\tthis.menutree.render();\n\t\t});\n\t}\n\n\t// не используется в песочнице:\n\tpostData(data) {\n\t\tfetch(APP_ENDPOINT, {\n\t\t\tmethod: 'POST', // or 'PUT'\n\t\t\tbody: JSON.stringify(data), \n\t\t\theaders: new Headers({\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}),\n\t\t}).then(res => res.json())\n\t\t.catch(error => console.error('Error:', error))\n\t\t.then(response => console.log('Success:', response));\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/app/app.js","'use strict';\n\nexport class Tree {\n\n\tconstructor(data = []) {\n\t\tthis.data = data;\n\t}\n\n\tgetData() {\n\t\treturn this.data;\n\t}\n\n\tgetAdaptedData() {\n\t\tthis._adaptData(this.data, []);\n\t\treturn this.data;\n\t}\n\n\t_adaptData(data, address) {\n\t\tlet currAddress = address;\n\t\tdata.forEach( (obj, idx) => {\n\t\t\tobj.address = currAddress.concat(idx);\n\t\t\tif (obj.children) {\n\t\t\t\tthis._adaptData(obj.children, obj.address);\n\t\t\t};\n\t\t});\n\t}\n\n\tgetNodeIdx(address) {\n\t\treturn (address && address.length) ? \n\t\taddress[address.length - 1] : undefined;\n\t}\n\n\tgetNode(address) {\n\t\treturn (address && address.length) ? \n\t\tthis.getParentNode(address)[this.getNodeIdx(address)] : undefined;\n\t}\n\n\tgetParentNode(address) {\n\t\tlet parentNode = this.data;\n\t\tif (address) {\n\t\t\tfor(let i = 0; i < address.length - 1; i++) {\n\t\t\t\tparentNode = parentNode[+address[i]].children;\n\t\t\t}\n\t\t}\n\t\treturn parentNode;\n\t}\n\n\tgetChildren(address) {\n\t\treturn (address && address.length) ? \n\t\tthis.getNode(address).children : this.data;\n\t}\n\n\taddNode(el, address) {\n\t\tif(!el || !el.name) { return; }\n\n\t\tif(!address) { \n\t\t\tthis.data.push(el);\n\t\t\treturn;\n\t\t}\n\n\t\tconst children = this.getChildren(address);\n\t\tconst parent = this.getNode(address);\n\n\t\tif(!children) { \n\t\t\tparent.children = [el];\n\t\t} else {\n\t\t\tchildren.push(el);\n\t\t}\n\n\t\tif(parent) {\n\t\t\tparent.state = 'open';\n\t\t}\n\t}\n\n\tremoveNode(address) {\n\t\tif(!address || !address.length) { return; }\n\t\tconst idx = this.getNodeIdx(address);\n\t\tconst arr = this.getParentNode(address);\n\t\tarr.splice(idx, 1);\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree/tree.js","'use strict';\n\nimport './menutree.css';\nimport componentTemplate from './menutree.pug';\n\nexport class Menutree {\n\tconstructor({el, tree, onItemEvent}) {\n\t\tthis.el = el;\n\n\t\tthis._tree = tree;\n\t\tthis._onItemEvent = onItemEvent;\n\n\t\tthis._blockName = \"menutree\";\n\t\tthis.el.classList.add(this._blockName);\n\t\tthis._initEvents();\n\t}\n\n\trender() {\n\t\tthis.el.innerHTML = componentTemplate({\n\t\t\tblockName: this._blockName,\n\t\t\tdata: this._tree.getAdaptedData()\n\t\t});\n\t}\n\n\taddElement(el, address) {\n\t\tthis._addElementToTree(el, address);\n\t\tconsole.log(address);\n\t\tthis.render();\n\t}\n\n\tremoveElement(el) {\n\t\tthis._tree.removeNode(this._getElementAddress(el));\n\t\tthis.render();\n\t}\n\n\t_getElementAddress(el) {\n\t\tlet elemIdx = el.parentNode.dataset.idx;\n\t\tconst address = elemIdx ? elemIdx.split('.') : [];\n\t\treturn address;\n\t}\n\n\t_addElementToTree(el, address) {\n\t\tthis._tree.addNode(el, address);\n\t}\n\n\t_toggleOpenStatus(el) {\n\t\tel.classList.toggle(`${this._blockName}__section_title_open`);\n\t\tlet node = this._tree.getNode(this._getElementAddress(el));\n\t\tlet state = node.state;\n\t\tnode.state = state ? '' : 'open';\n\t}\n\n\t_initEvents() {\n\t\tthis.el.addEventListener('click', () => {\n\t\t\tlet element = event.target;\n\n\t\t\tif (element.classList.contains(`${this._blockName}__section_title`)) {\n\t\t\t\tthis._toggleOpenStatus(element);\n\t\t\t}\n\n\t\t\tif (element.classList.contains(`${this._blockName}__item_del`)) {\n\t\t\t\tthis.removeElement(element);\n\t\t\t\tthis._onItemEvent(null);\n\t\t\t}\n\n\t\t\tif (element.classList.contains(`${this._blockName}__item_add`)) {\n\t\t\t\tthis._onItemEvent({\n\t\t\t\ttitle: element.parentNode.querySelector(`.${this._blockName}__title`).textContent,\n\t\t\t\taddress: this._getElementAddress(element)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/menutree/menutree.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menutree/menutree.css\n// module id = 5\n// module chunks = 0","var pug = require(\"!../../../node_modules/pug-runtime/index.js\");\n\nfunction template(locals) {var pug_html = \"\", pug_mixins = {}, pug_interp;;var locals_for_with = (locals || {});(function (blockName, data) {pug_mixins[\"list\"] = pug_interp = function(data){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Cul\" + (pug.attr(\"class\", pug.classes([blockName + '__section'], [true]), false, true)) + \"\\u003E\";\n// iterate data\n;(function(){\n  var $$obj = data;\n  if ('number' == typeof $$obj.length) {\n      for (var pug_index0 = 0, $$l = $$obj.length; pug_index0 < $$l; pug_index0++) {\n        var obj = $$obj[pug_index0];\npug_mixins[\"item\"](obj);\n      }\n  } else {\n    var $$l = 0;\n    for (var pug_index0 in $$obj) {\n      $$l++;\n      var obj = $$obj[pug_index0];\npug_mixins[\"item\"](obj);\n    }\n  }\n}).call(this);\n\npug_html = pug_html + \"\\u003Cli\" + (pug.attr(\"class\", pug.classes([blockName + '__placeholder'], [true]), false, true)) + \"\\u003EВаш список пуст\\u003C\\u002Fli\\u003E\\u003C\\u002Ful\\u003E\";\n};\npug_mixins[\"item\"] = pug_interp = function(obj){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nif (obj.name) {\npug_html = pug_html + \"\\u003Cli\" + (pug.attr(\"class\", pug.classes([blockName + '__item'], [true]), false, true)+pug.attr(\"data-idx\", obj.address.join('.'), true, true)) + \"\\u003E\\u003Cspan\" + (pug.attr(\"class\", pug.classes([blockName + '__item_del'], [true]), false, true)) + \"\\u003E&times;\\u003C\\u002Fspan\\u003E\";\nif (obj.url) {\npug_mixins[\"link\"](obj);\n}\nelse {\npug_mixins[\"title\"](obj);\n}\nif (obj.children) {\npug_mixins[\"list\"](obj.children);\n}\npug_html = pug_html + \"\\u003C\\u002Fli\\u003E\";\n}\n};\npug_mixins[\"link\"] = pug_interp = function(obj){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Ca\" + (pug.attr(\"class\", pug.classes([blockName + '__link'], [true]), false, true)+pug.attr(\"href\", obj.url, true, true)+\" target=\\\"_blank\\\"\") + \"\\u003E\" + (pug.escape(null == (pug_interp = obj.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Fa\\u003E\";\n};\npug_mixins[\"title\"] = pug_interp = function(obj){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Cspan\" + (pug.attr(\"class\", pug.classes([blockName + '__item_add'], [true]), false, true)) + \"\\u003E&plus;\\u003C\\u002Fspan\\u003E\\u003Cspan\" + (pug.attr(\"class\", pug.classes([blockName + '__title',(obj.children && obj.children.length && obj.state == 'open') ? blockName + '__section_title_open' : '',(obj.children && obj.children.length) ? blockName + '__section_title' : ''], [true,true,true]), false, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = obj.name) ? \"\" : pug_interp)) + \"\\u003C\\u002Fspan\\u003E\";\n};\npug_mixins[\"list\"](data);}.call(this,\"blockName\" in locals_for_with?locals_for_with.blockName:typeof blockName!==\"undefined\"?blockName:undefined,\"data\" in locals_for_with?locals_for_with.data:typeof data!==\"undefined\"?data:undefined));;return pug_html;};\nmodule.exports = template;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menutree/menutree.pug\n// module id = 6\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 7\n// module chunks = 0","'use strict';\n\nimport './additem.css';\nimport componentTemplate from './additem.pug';\n\nexport class Additem {\n\n\tconstructor({el, onSendData}) {\n\t\tthis.el = el;\n\n\t\tthis._onSendData = onSendData;\n\n\t\tthis._blockName = \"additem\";\n\t\tthis.el.classList.add(this._blockName);\n\t\tthis._initEvents();\n\n\t\tthis._targetTitle = null;\n\t\tthis._targetAddress = null;\n\t}\n\n\trender() {\n\t\tthis.el.innerHTML = componentTemplate({\n\t\t\tblockName: this._blockName,\n\t\t\ttargetTitle: this._targetTitle\n\t\t});\n\t}\n\n\treset() {\n\t\tthis._targetTitle = null;\n\t\tthis._targetAddress = null;\n\t\tthis.render();\n\t}\n\n\tupdate(element) {\n\t\tif(element) {\n\t\t\tthis._setTarget(element);\n\t\t\tthis.render();\n\t\t} else {\n\t\t\tthis.reset();\n\t\t}\n\t}\n\n\t// private\n\n\t_setTarget(element) {\n\t\tthis._targetTitle = element.title;\n\t\tthis._targetAddress = element.address;\n\t}\n\n\t_initEvents() {\n\t\tthis.el.addEventListener('click', () => {\n\t\t\tif (!event.target.classList.contains(`${this._blockName}__submit`)) return;\n\t\t\tconst newEl = {};\n\t\t\tevent.target.parentNode.querySelectorAll('input').forEach(el => {\n\t\t\t  newEl[el.name] = el.value;\n\t\t\t});\n\t\t\tthis._sendData(newEl);\n\t\t});\n\t}\n\t\n\t_sendData(el) {\n\t\tthis._onSendData(el, this._targetAddress);\n\t\tthis.reset();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/additem/additem.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/additem/additem.css\n// module id = 9\n// module chunks = 0","var pug = require(\"!../../../node_modules/pug-runtime/index.js\");\n\nfunction template(locals) {var pug_html = \"\", pug_mixins = {}, pug_interp;;var locals_for_with = (locals || {});(function (blockName, targetTitle) {pug_html = pug_html + \"\\u003Cdiv\" + (pug.attr(\"class\", pug.classes([blockName + '__form'], [true]), false, true)) + \"\\u003E\\u003Cp\\u003EДобавить элемент\";\nif (targetTitle) {\npug_html = pug_html + \"\\u003Cmark\\u003Eв&nbsp; \\u003Ci\\u003E\" + (pug.escape(null == (pug_interp = targetTitle + ': ') ? \"\" : pug_interp)) + \"\\u003C\\u002Fi\\u003E\\u003C\\u002Fmark\\u003E\";\n}\npug_html = pug_html + \"\\u003C\\u002Fp\\u003E\\u003Cinput type=\\\"text\\\" name=\\\"name\\\" placeholder=\\\"Название\\\" value=\\\"\\\"\\u003E\\u003Cinput type=\\\"text\\\" name=\\\"url\\\" placeholder=\\\"http:\\u002F\\u002F..\\\" value=\\\"\\\"\\u003E\\u003Cbutton\" + (pug.attr(\"class\", pug.classes([blockName + '__submit'], [true]), false, true)) + \"\\u003Eдобавить\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\";}.call(this,\"blockName\" in locals_for_with?locals_for_with.blockName:typeof blockName!==\"undefined\"?blockName:undefined,\"targetTitle\" in locals_for_with?locals_for_with.targetTitle:typeof targetTitle!==\"undefined\"?targetTitle:undefined));;return pug_html;};\nmodule.exports = template;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/additem/additem.pug\n// module id = 10\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.css\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}